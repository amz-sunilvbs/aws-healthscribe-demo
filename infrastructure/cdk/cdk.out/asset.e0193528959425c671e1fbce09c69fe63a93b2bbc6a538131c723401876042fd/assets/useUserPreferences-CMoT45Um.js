import{r as f,b9 as m}from"./index-DajoXNaE.js";const i={providerName:"",providerSpecialty:"FAMILY_MEDICINE",enabledNoteTemplates:["HISTORY_AND_PHYSICAL","GIRPP","BIRP","SIRP","DAP","BEHAVIORAL_SOAP","PHYSICAL_SOAP"],defaultNoteTemplate:"HISTORY_AND_PHYSICAL",comprehendMedicalEnabled:!0,billingCycle:"MONTHLY",region:"us-east-1",apiTiming:!1,defaultPlaybackSpeed:1,skipInterval:5,autoScroll:!0,defaultTab:"transcript",smallTalkDefault:!1,silenceDefault:!1,confidenceThreshold:75,autoExtract:!1},h=[{label:"Family Medicine",value:"FAMILY_MEDICINE"},{label:"Internal Medicine",value:"INTERNAL_MEDICINE"},{label:"Pediatrics",value:"PEDIATRICS"},{label:"Cardiology",value:"CARDIOLOGY"},{label:"Dermatology",value:"DERMATOLOGY"},{label:"Emergency Medicine",value:"EMERGENCY_MEDICINE"},{label:"Endocrinology",value:"ENDOCRINOLOGY"},{label:"Gastroenterology",value:"GASTROENTEROLOGY"},{label:"Neurology",value:"NEUROLOGY"},{label:"Oncology",value:"ONCOLOGY"},{label:"Orthopedics",value:"ORTHOPEDICS"},{label:"Psychiatry",value:"PSYCHIATRY"},{label:"Radiology",value:"RADIOLOGY"},{label:"Surgery",value:"SURGERY"},{label:"Urology",value:"UROLOGY"},{label:"Other",value:"OTHER"}];function P(e){return{BH_SOAP:"BEHAVIORAL_SOAP",PH_SOAP:"PHYSICAL_SOAP"}[e]||e}function S(e){return e.map(r=>P(r))}const T=[{label:"History and Physical",value:"HISTORY_AND_PHYSICAL",description:"Comprehensive clinical documentation with sections like Chief Complaint, History of Present Illness, Review of Systems, Past Medical History, Assessment, and Plan"},{label:"GIRPP (Goal, Intervention, Response, Progress, Plan)",value:"GIRPP",description:"Goal-oriented documentation format focusing on treatment goals and patient progress"},{label:"BIRP (Behavior, Intervention, Response, Plan)",value:"BIRP",description:"Behavioral health format focusing on patient behavioral patterns and responses to treatment"},{label:"SIRP (Situation, Intervention, Response, Plan)",value:"SIRP",description:"Therapy-focused format emphasizing situational context and therapeutic interventions"},{label:"DAP (Data, Assessment, Plan)",value:"DAP",description:"Simplified clinical documentation format with patient data, clinical assessment, and treatment plan"},{label:"Behavioral SOAP",value:"BEHAVIORAL_SOAP",description:"Behavioral health focused SOAP format with Subjective, Objective, Assessment, and Plan sections"},{label:"Physical SOAP",value:"PHYSICAL_SOAP",description:"Physical health focused SOAP format with Subjective, Objective, Assessment, and Plan sections"}],A="user-preferences",p="anonymous-user-id";function E(){return`anonymous-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function I(){let e=localStorage.getItem(p);return e||(e=E(),localStorage.setItem(p,e)),e}function d(){try{const e=localStorage.getItem(A);if(e){const r=JSON.parse(e),t={...i,...r};return t.enabledNoteTemplates=S(t.enabledNoteTemplates),t.defaultNoteTemplate=P(t.defaultNoteTemplate),t}}catch(e){console.error("Error loading user preferences from localStorage:",e)}return i}function c(e){try{localStorage.setItem(A,JSON.stringify(e))}catch(r){console.error("Error saving user preferences to localStorage:",r)}}async function v(e){try{const t=m()?.api_url;if(!t)return console.log("API not configured, using localStorage"),d();const n=await fetch(`${t}/preferences/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(n.ok){const s=await n.json(),a={...i,...s.preferences};return a.enabledNoteTemplates=S(a.enabledNoteTemplates),a.defaultNoteTemplate=P(a.defaultNoteTemplate),c(a),a}else return n.status===404?i:(console.error("Failed to load user preferences from API:",n.statusText),d())}catch(r){return console.error("Error loading user preferences from API:",r),d()}}async function O(e,r){try{const n=m()?.api_url;if(!n)return console.log("API not configured, using localStorage"),c(r),!0;const s=await fetch(`${n}/preferences/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({preferences:r})});return s.ok?(c(r),!0):(console.error("Failed to save user preferences to API:",s.statusText),c(r),!1)}catch(t){return console.error("Error saving user preferences to API:",t),c(r),!1}}function b(){const[e,r]=f.useState(i),[t,n]=f.useState(!0),[s,a]=f.useState(null);return f.useEffect(()=>{async function u(){try{n(!0),a(null);const o=I(),l=await v(o);r(l)}catch(o){const l=o instanceof Error?o.message:"Unknown error";a(l),console.error("Failed to load user preferences:",o);const g=d();r(g)}finally{n(!1)}}u()},[]),{preferences:e,savePreferences:async u=>{try{a(null);const o=I();return await O(o,u)?(r(u),!0):(a("Failed to save preferences to server"),!1)}catch(o){const l=o instanceof Error?o.message:"Unknown error";return a(l),console.error("Failed to save user preferences:",o),!1}},isLoading:t,error:s}}export{T as C,i as D,h as M,b as u};
