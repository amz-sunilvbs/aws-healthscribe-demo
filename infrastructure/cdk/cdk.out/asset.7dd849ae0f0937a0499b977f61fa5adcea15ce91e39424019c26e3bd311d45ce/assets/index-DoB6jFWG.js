import{e as i,aM as Ye,b$ as Ct,i as ke,f as B,t as Tt,_ as ie,I as We,g as Te,r as b,h as Ge,af as at,a7 as Ie,F as rt,s as It,W as it,c0 as Ue,a$ as je,bW as Je,x as Oe,q as $e,v as Pt,aa as ue,c1 as zt,w as Nt,N as Mt,d as Ft,c2 as Lt,l as Dt,bO as jt,m as $t}from"./index-BHBkWbjB.js";import{u as st,C as ot}from"./index-Css7POYb.js";import{I as Bt}from"./internal-BrFkmf4c.js";const lt={root:"awsui_root_vrgzu_1n5go_145",recovery:"awsui_recovery_vrgzu_1n5go_180"};function At({children:e}){return i.createElement("div",{className:lt.root},e)}const Ht=({statusType:e,empty:a,loadingText:t,finishedText:n,filteringResultsText:r,errorText:s,recoveryText:o,isEmpty:l,isNoMatch:c,isFiltered:u,noMatch:d,onRecoveryClick:p,hasRecoveryCallback:g=!1,errorIconAriaLabel:v})=>{const w=st(e),h={isSticky:!0,content:null,hasRecoveryButton:!1};return e==="loading"?h.content=i.createElement(Ye,{type:"loading"},t):e==="error"?(h.hasRecoveryButton=!!o&&g,h.content=i.createElement("span",null,i.createElement(Ye,{type:"error",__display:"inline",__animate:w!=="error",iconAriaLabel:v},s)," ",h.hasRecoveryButton&&i.createElement(Ct,{onFollow:()=>ke(p),variant:"recovery",className:lt.recovery},o))):l&&a?h.content=a:c&&d?h.content=d:u&&r?h.content=r:e==="finished"&&n&&(h.content=n,h.isSticky=!1),h},Ve={root:"awsui_root_1afi9_1jjir_145",hidden:"awsui_hidden_1afi9_1jjir_176","no-items":"awsui_no-items_1afi9_1jjir_179"},Ze=({content:e,id:a,hasItems:t=!0})=>i.createElement("div",{className:B(Ve.root,{[Ve.hidden]:e===null,[Ve["no-items"]]:!t})},i.createElement(Tt,{id:a},e&&i.createElement(At,null,e))),Be=new WeakMap,Kt=e=>Be.get(e),Vt=(e,a)=>{let t=1,n=0,r=1,s=null;e.forEach(o=>{const l=o.type==="parent",c=l?o:a(o);c&&c!==s&&(s=c,n+=1,r=1),l?Be.set(o,{groupIndex:n}):c&&o.type==="child"?Be.set(o,{throughIndex:t++,groupIndex:n,inGroupIndex:r++}):(o.type==="child"||!o.type)&&Be.set(o,{throughIndex:t++})})},qt=["value","label","description","labelTag"],qe=(e,a,t)=>{if(!e)return!1;const n=e.toLowerCase().indexOf(a);return t?n===0:n>-1},et=(e,a,t)=>{const n=a.toLowerCase(),r=e.option,s=c=>qe(r[c],n,t),o=c=>{var u;return(u=r[c])===null||u===void 0?void 0:u.some(d=>qe(d,n,t))},l=["tags"];return t||l.push("filteringTags"),qt.some(s)||l.some(o)},ct=(e,a,t=!1)=>{if(a==="")return e;let n=null,r=!1;return e.reduce((s,o)=>o.type==="parent"?(r=!1,n=o,et(o,a,t)&&(r=!0,s.push(n)),s):(o.type!=="child"&&(n=null,r=!1),r?s.push(o):et(o,a,t)&&(n&&(s.push(n),n=null),s.push(o)),s),[])},ut=e=>!!e&&!e.disabled&&e.type!=="parent",dt=e=>!!e&&!e.disabled,Me=e=>!!e&&"options"in e&&!!e.options,Wt=e=>{const a=new Map;return{flatOptions:e.reduce((n,r)=>{if(Me(r)){const{options:s}=r,o=ie(r,["options"]),l={type:"parent",option:r},c=s.every(u=>u.disabled);(r.disabled||c)&&(l.disabled=!0),n.push(l),s.forEach(u=>{const d={type:"child",option:u};(o.disabled||u.disabled)&&(d.disabled=!0),n.push(d),a.set(d,l)})}else{const s={option:r};r.disabled&&(s.disabled=!0),n.push(s)}return n},[]),parentMap:a}};function Gt(e,a,t){const{flatOptions:n,parentMap:r}=Wt(e),s=a!=="auto"?n:ct(n,t);return Vt(s,r.get.bind(r)),{flatOptions:n,filteredOptions:s,parentMap:r,totalCount:n.length,matchesCount:s.length}}const z={placeholder:"awsui_placeholder_dwuol_ti6bo_145",item:"awsui_item_dwuol_ti6bo_150",checkbox:"awsui_checkbox_dwuol_ti6bo_154",filter:"awsui_filter_dwuol_ti6bo_163",trigger:"awsui_trigger_dwuol_ti6bo_168","layout-strut":"awsui_layout-strut_dwuol_ti6bo_174","list-bottom":"awsui_list-bottom_dwuol_ti6bo_180","selected-icon":"awsui_selected-icon_dwuol_ti6bo_184","show-label-tag":"awsui_show-label-tag_dwuol_ti6bo_188","inline-token-trigger":"awsui_inline-token-trigger_dwuol_ti6bo_192","inline-token-list":"awsui_inline-token-list_dwuol_ti6bo_199","inline-token":"awsui_inline-token_dwuol_ti6bo_192","visual-refresh":"awsui_visual-refresh_dwuol_ti6bo_229","inline-token-hidden-placeholder":"awsui_inline-token-hidden-placeholder_dwuol_ti6bo_236","inline-token-counter":"awsui_inline-token-counter_dwuol_ti6bo_242","inline-token-trigger--disabled":"awsui_inline-token-trigger--disabled_dwuol_ti6bo_246","inline-label-trigger-wrapper":"awsui_inline-label-trigger-wrapper_dwuol_ti6bo_252","inline-label-wrapper":"awsui_inline-label-wrapper_dwuol_ti6bo_256","inline-label":"awsui_inline-label_dwuol_ti6bo_252","disabled-reason-tooltip":"awsui_disabled-reason-tooltip_dwuol_ti6bo_282"},Ut=i.forwardRef((e,a)=>{var{filteringType:t}=e,n=ie(e,["filteringType"]);return t==="none"?null:i.createElement(Bt,Object.assign({ref:a,type:"visualSearch",className:z.filter,autoComplete:!1,disableBrowserAutocorrect:!0,invalid:!1,__noBorderRadius:!0},n,{__nativeAttributes:Object.assign({"aria-expanded":!0,"aria-haspopup":!0,role:"combobox",autoCorrect:"off",autoCapitalize:"off"},n.__nativeAttributes)}))}),P={option:"awsui_option_1p2cx_4qlzt_153",disabled:"awsui_disabled_1p2cx_4qlzt_190",parent:"awsui_parent_1p2cx_4qlzt_193",highlighted:"awsui_highlighted_1p2cx_4qlzt_196",content:"awsui_content_1p2cx_4qlzt_200","label-content":"awsui_label-content_1p2cx_4qlzt_207",label:"awsui_label_1p2cx_4qlzt_207",tag:"awsui_tag_1p2cx_4qlzt_214","label-tag":"awsui_label-tag_1p2cx_4qlzt_215","label-prefix":"awsui_label-prefix_1p2cx_4qlzt_225",tags:"awsui_tags_1p2cx_4qlzt_238",description:"awsui_description_1p2cx_4qlzt_239",selected:"awsui_selected_1p2cx_4qlzt_250",icon:"awsui_icon_1p2cx_4qlzt_264","icon-size-big":"awsui_icon-size-big_1p2cx_4qlzt_271","filtering-match-highlight":"awsui_filtering-match-highlight_1p2cx_4qlzt_275","trigger-variant":"awsui_trigger-variant_1p2cx_4qlzt_290"},Qt=(e,a)=>{if(a.length>1e4)return{noMatches:[e],matches:null};const t=a.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&"),n=new RegExp(t,"gi"),r=e.split(n),s=e.match(n);return{noMatches:r,matches:s}};function tt({str:e}){return e?i.createElement("mark",{className:P["filtering-match-highlight"]},e):null}function Le({str:e,highlightText:a}){if(!e||!a)return i.createElement("span",null,e);if(e===a)return i.createElement(tt,{str:e});const{noMatches:t,matches:n}=Qt(e,a),r=[];return t.forEach((s,o)=>{r.push(i.createElement("span",{key:`noMatch-${o}`},s)),n&&o<n.length&&r.push(i.createElement(tt,{key:`match-${o}`,str:n[o]}))}),i.createElement("span",null,r)}const ft={label:"awsui_label_1q5vz_ocied_5"},Xt=({label:e,prefix:a,highlightText:t,triggerVariant:n})=>i.createElement("span",{className:B(P.label,ft.label,n&&P["trigger-variant"])},a&&i.createElement("span",{className:B(P["label-prefix"],n&&P["trigger-variant"])},a," "),i.createElement(Le,{str:e,highlightText:t})),Yt=({labelTag:e,highlightText:a,triggerVariant:t})=>e?i.createElement("span",{className:B(P["label-tag"],t&&P["trigger-variant"])},i.createElement(Le,{str:e,highlightText:a})):null,Jt=({description:e,highlightedOption:a,highlightText:t,selectedOption:n,triggerVariant:r})=>e?i.createElement("span",{className:B(P.description,{[P["trigger-variant"]]:r,[P.highlighted]:a,[P.selected]:n})},i.createElement(Le,{str:e,highlightText:t})):null,Zt=({tags:e,highlightedOption:a,highlightText:t,selectedOption:n,triggerVariant:r})=>e?i.createElement("span",{className:B(P.tags,{[P.highlighted]:a,[P.selected]:n})},e.map((s,o)=>i.createElement("span",{key:o,className:B(P.tag,r&&P["trigger-variant"])},i.createElement(Le,{str:s,highlightText:t})))):null,en=({filteringTags:e,highlightedOption:a,highlightText:t,selectedOption:n,triggerVariant:r})=>{if(!t||!e)return null;const s=t.toLowerCase();return i.createElement("span",{className:B(P.tags,{[P.highlighted]:a,[P.selected]:n})},e.map((o,l)=>o.toLowerCase().indexOf(s)!==-1?i.createElement("span",{className:B(P.tag,r&&P["trigger-variant"]),key:l,"aria-disabled":!0},i.createElement(Le,{str:o,highlightText:t})):null))},tn=e=>!e.name&&!e.url&&!e.svg?null:i.createElement("span",{className:B(P.icon,e.size==="big"&&[P["icon-size-big"]])},i.createElement(We,Object.assign({},e))),Qe=e=>{var a,t,{option:n,highlightText:r,triggerVariant:s=!1,isGroupOption:o=!1,isGenericGroup:l=!0,highlightedOption:c=!1,selectedOption:u=!1}=e,d=ie(e,["option","highlightText","triggerVariant","isGroupOption","isGenericGroup","highlightedOption","selectedOption"]);if(!n)return null;const{disabled:p}=n,g=Te(d),v=B(P.option,p&&P.disabled,o&&P.parent,c&&P.highlighted),w=n.__customIcon||i.createElement(tn,{name:n.iconName,url:n.iconUrl,svg:n.iconSvg,alt:n.iconAlt,size:n.description||n.tags?"big":"normal"}),h=l?{title:(a=n.label)!==null&&a!==void 0?a:n.value,"aria-disabled":p}:void 0;return i.createElement("span",Object.assign({"data-value":n.value,className:v,lang:n.lang},h,g),w,i.createElement("span",{className:P.content},i.createElement("span",{className:P["label-content"]},i.createElement(Xt,{label:(t=n.label)!==null&&t!==void 0?t:n.value,prefix:n.__labelPrefix,highlightText:r,triggerVariant:s}),i.createElement(Yt,{labelTag:n.labelTag,highlightText:r,triggerVariant:s})),i.createElement(Jt,{description:n.description,highlightedOption:c,selectedOption:u,highlightText:r,triggerVariant:s}),i.createElement(Zt,{tags:n.tags,highlightedOption:c,selectedOption:u,highlightText:r,triggerVariant:s}),i.createElement(en,{filteringTags:n.filteringTags,highlightedOption:c,selectedOption:u,highlightText:r,triggerVariant:s})))},Fe={parent:"awsui_parent_2dmmi_qu62t_5","option-content":"awsui_option-content_2dmmi_qu62t_6"},nn=e=>{var{isChild:a,value:t}=e,n=ie(e,["isChild","value"]);const r=n,s={action:"select",detail:{label:{selector:[`.${ft.label}`,`.${Fe["option-content"]}`]}}};let o;return a&&r["data-group-index"]&&r["data-in-group-index"]||r["data-child-index"]?o=`${r["data-group-index"]},${r["data-in-group-index"]||r["data-child-index"]}`:r["data-test-index"]&&(o=`${r["data-test-index"]}`),o&&(s.detail.position=o),t&&(s.detail.value=t),a&&(s.detail.groupLabel={root:"body",selector:`.${Fe.parent}[data-group-index="${r["data-group-index"]}"] .${Fe["option-content"]}`}),s},$={"selectable-item":"awsui_selectable-item_15o6u_vdd35_145","pad-bottom":"awsui_pad-bottom_15o6u_vdd35_167",virtual:"awsui_virtual_15o6u_vdd35_171","has-background":"awsui_has-background_15o6u_vdd35_174",highlighted:"awsui_highlighted_15o6u_vdd35_177",selected:"awsui_selected_15o6u_vdd35_177",disabled:"awsui_disabled_15o6u_vdd35_195","next-item-selected":"awsui_next-item-selected_15o6u_vdd35_205","is-keyboard":"awsui_is-keyboard_15o6u_vdd35_217",parent:"awsui_parent_15o6u_vdd35_221",interactiveGroups:"awsui_interactiveGroups_15o6u_vdd35_225",child:"awsui_child_15o6u_vdd35_241",sticky:"awsui_sticky_15o6u_vdd35_247","with-scrollbar":"awsui_with-scrollbar_15o6u_vdd35_259","after-header":"awsui_after-header_15o6u_vdd35_265","measure-strut":"awsui_measure-strut_15o6u_vdd35_300","screenreader-content":"awsui_screenreader-content_15o6u_vdd35_313","option-content":"awsui_option-content_15o6u_vdd35_319","select-all":"awsui_select-all_15o6u_vdd35_323"},an=(e,a)=>{var{children:t,ariaSelected:n,ariaChecked:r,selected:s,highlighted:o,disabled:l,hasBackground:c,isParent:u,isChild:d,isSelectAll:p,virtualPosition:g,padBottom:v,isNextSelected:w,useInteractiveGroups:h,screenReaderContent:C,ariaPosinset:R,ariaSetsize:k,highlightType:O,value:y,sticky:x,afterHeader:N,withScrollbar:_}=e,M=ie(e,["children","ariaSelected","ariaChecked","selected","highlighted","disabled","hasBackground","isParent","isChild","isSelectAll","virtualPosition","padBottom","isNextSelected","useInteractiveGroups","screenReaderContent","ariaPosinset","ariaSetsize","highlightType","value","sticky","afterHeader","withScrollbar"]);const A=Te(M),{className:S}=A,E=ie(A,["className"]),q=B(S,$["selectable-item"],{[$.selected]:s,[$.highlighted]:o,[$["has-background"]]:c,[$.parent]:u,[Fe.parent]:u,[$.child]:d,[$["select-all"]]:p,[$["is-keyboard"]]:O==="keyboard",[$.disabled]:l,[$.virtual]:g!==void 0&&!x,[$["pad-bottom"]]:v,[$["next-item-selected"]]:w,[$.interactiveGroups]:h,[$.sticky]:x,[$["after-header"]]:!!N,[$["with-scrollbar"]]:_}),W=b.useRef(null),V=b.useRef(null);b.useLayoutEffect(()=>{o&&C&&(W.current&&W.current.setAttribute("aria-hidden","true"),V.current&&(V.current.textContent=C))},[o,C,W,V]);const Q=g!==void 0?{transform:`translateY(${g}px)`}:void 0,K={"aria-disabled":l};return u&&!h&&(K["aria-hidden"]=!0),n!==void 0&&(K["aria-selected"]=n),r!==void 0&&(K["aria-checked"]=r),R&&k&&(K["aria-posinset"]=R,K["aria-setsize"]=k),M.ariaDescribedby&&(K["aria-describedby"]=M.ariaDescribedby),i.createElement("li",Object.assign({role:"option",className:q,style:Q},K,E,u||l?{}:Ge(nn(Object.assign({isChild:d,value:y},M)))),i.createElement("div",{className:B($["option-content"],Fe["option-content"]),ref:W},t),i.createElement("div",{className:$["measure-strut"],ref:a}),i.createElement("div",{className:$["screenreader-content"],ref:V}))},gt=i.forwardRef(an),rn=(e,a)=>{var{option:t,highlighted:n,selected:r,filteringValue:s,hasCheckbox:o,virtualPosition:l,padBottom:c,isNextSelected:u,screenReaderContent:d,ariaPosinset:p,ariaSetsize:g,highlightType:v,withScrollbar:w,sticky:h}=e,C=ie(e,["option","highlighted","selected","filteringValue","hasCheckbox","virtualPosition","padBottom","isNextSelected","screenReaderContent","ariaPosinset","ariaSetsize","highlightType","withScrollbar","sticky"]);const R=Te(C),k=t.type==="parent",O=t.type==="child",y=t.option,x=t.disabled||y.disabled,N=x&&y.disabledReason?y.disabledReason:"",_=!!N,M=b.useRef(null),{descriptionEl:A,descriptionId:S}=at(N),[E,q]=b.useState(!0);return b.useEffect(()=>q(!0),[n]),i.createElement(gt,Object.assign({ariaSelected:!!r,selected:r,isNextSelected:u,highlighted:n,disabled:t.disabled,isParent:k,isChild:O,ref:Ie(a,M),virtualPosition:l,padBottom:c,screenReaderContent:d,ariaPosinset:p,ariaSetsize:g,highlightType:v,ariaDescribedby:_?S:"",value:t.option.value,withScrollbar:w,sticky:h},R),i.createElement("div",{className:B(z.item,!k&&y.labelTag&&z["show-label-tag"])},o&&!k&&i.createElement("div",{className:z.checkbox},i.createElement(ot,{checked:r||!1,disabled:t.disabled})),i.createElement(Qe,{option:Object.assign(Object.assign({},y),{disabled:x}),highlightedOption:n,selectedOption:r,highlightText:s,isGroupOption:k}),!o&&!k&&r&&i.createElement("div",{className:z["selected-icon"]},i.createElement(We,{name:"check"})),_&&i.createElement(i.Fragment,null,A,n&&E&&i.createElement(rt,{className:z["disabled-reason-tooltip"],trackRef:M,value:N,position:"right",hideOnOverscroll:!0,onDismiss:()=>q(!1)}))))},sn=i.memo(i.forwardRef(rn)),on=(e,a)=>{var{option:t,highlighted:n,selected:r,filteringValue:s,hasCheckbox:o,virtualPosition:l,padBottom:c,isNextSelected:u,indeterminate:d,screenReaderContent:p,ariaPosinset:g,ariaSetsize:v,highlightType:w,withScrollbar:h,sticky:C}=e,R=ie(e,["option","highlighted","selected","filteringValue","hasCheckbox","virtualPosition","padBottom","isNextSelected","indeterminate","screenReaderContent","ariaPosinset","ariaSetsize","highlightType","withScrollbar","sticky"]);const k=Te(R),O=t.type==="parent",y=t.type==="child",x=t.type==="select-all",N=t.option,_=t.disabled||N.disabled,M=_&&(t.disabledReason||N.disabledReason)?t.disabledReason||N.disabledReason:"",A=!!M,S=b.useRef(null),E=z.item,{descriptionId:q,descriptionEl:W}=at(M),[V,Q]=b.useState(!0);return b.useEffect(()=>Q(!0),[n]),i.createElement(gt,Object.assign({ariaChecked:O&&d?"mixed":!!r,selected:r,isNextSelected:u,highlighted:n,disabled:_,isParent:O,isChild:y,isSelectAll:x,highlightType:w,ref:Ie(a,S),virtualPosition:l,padBottom:c,useInteractiveGroups:!0,screenReaderContent:p,ariaPosinset:g,ariaSetsize:v,ariaDescribedby:A?q:"",value:t.option.value,afterHeader:t.afterHeader,withScrollbar:h,sticky:C},k),i.createElement("div",{className:E},o&&i.createElement("div",{className:z.checkbox},i.createElement(ot,{checked:r,indeterminate:(O||x)&&d,disabled:_})),i.createElement(Qe,{option:Object.assign(Object.assign({},N),{disabled:_}),highlightedOption:n,selectedOption:r,highlightText:s,isGroupOption:O})),A&&i.createElement(i.Fragment,null,W,n&&V&&i.createElement(rt,{className:z["disabled-reason-tooltip"],trackRef:S,value:M,position:"right",hideOnOverscroll:!0,onDismiss:()=>Q(!1)})))},ln=i.memo(i.forwardRef(on)),cn=({option:e,index:a,getOptionProps:t,filteringValue:n,checkboxes:r=!1})=>{const s=t(e,a);s.filteringValue=n;const{inGroupIndex:o,groupIndex:l,throughIndex:c}=Kt(e)||{};return Object.assign(Object.assign({},s),{hasCheckbox:r,"data-group-index":l,"data-child-index":o,"data-test-index":c})},pt=({options:e,getOptionProps:a,filteringValue:t,highlightType:n,checkboxes:r=!1,hasDropdownStatus:s,virtualItems:o,useInteractiveGroups:l,screenReaderContent:c,ariaSetsize:u,withScrollbar:d,firstOptionSticky:p,stickyOptionRef:g})=>e.map((v,w)=>{const h=o&&o[w],C=h?h.index:w,R=cn({option:v,index:C,getOptionProps:a,filteringValue:v.type==="select-all"?"":t,checkboxes:r}),k=w===e.length-1,O=!s&&k,y=l?ln:sn,x=p&&C===0;return i.createElement(y,Object.assign({key:C},R,{virtualPosition:h&&h.start,ref:x&&g?g:h&&h.measureRef,padBottom:O,screenReaderContent:c,ariaPosinset:C+1,ariaSetsize:u,highlightType:n.type,withScrollbar:d,sticky:x}))});function ht({index:e,menuEl:a}){const t=a.querySelector(`[data-mouse-target="${e}"]`);t&&a.clientHeight!==void 0&&a.clientHeight>15&&It(t)}const mt=31,un=({menuProps:e,getOptionProps:a,filteredOptions:t,filteringValue:n,highlightType:r,checkboxes:s,hasDropdownStatus:o,listBottom:l,useInteractiveGroups:c,screenReaderContent:u,firstOptionSticky:d},p)=>{const g=b.useRef(null),[v,w]=b.useState(d?mt:0),[h,C]=it(y=>(g.current&&w(g.current.clientHeight),{inner:y.contentBoxWidth,outer:y.borderBoxWidth})),R=e.ref,k=Ie(C,R);b.useImperativeHandle(p,()=>y=>{const x=d&&y===0;r.moveFocus&&R.current&&!x&&ht({index:y,menuEl:R.current})},[d,r.moveFocus,R]);const O=!!h&&h.inner<h.outer;return i.createElement(Ue,Object.assign({},e,{ref:k,stickyItemBlockSize:v}),pt({options:t,getOptionProps:a,filteringValue:n,highlightType:r,checkboxes:s,hasDropdownStatus:o,useInteractiveGroups:c,screenReaderContent:u,firstOptionSticky:d,stickyOptionRef:g,withScrollbar:O}),l?i.createElement("li",{role:"option",className:z["list-bottom"]},l):null)},dn=b.forwardRef(un),bt={"button-trigger":"awsui_button-trigger_l32fn_xo3sj_5"},re={"button-trigger":"awsui_button-trigger_18eso_14puw_161",arrow:"awsui_arrow_18eso_14puw_161","in-filtering-token-root":"awsui_in-filtering-token-root_18eso_14puw_221","in-filtering-token-nested":"awsui_in-filtering-token-nested_18eso_14puw_221","has-caret":"awsui_has-caret_18eso_14puw_255",placeholder:"awsui_placeholder_18eso_14puw_258",pressed:"awsui_pressed_18eso_14puw_271",disabled:"awsui_disabled_18eso_14puw_274","in-filtering-token":"awsui_in-filtering-token_18eso_14puw_221",readonly:"awsui_readonly_18eso_14puw_290",invalid:"awsui_invalid_18eso_14puw_312",warning:"awsui_warning_18eso_14puw_321","inline-tokens":"awsui_inline-tokens_18eso_14puw_330"},fn=(e,a)=>{var{children:t,pressed:n,hideCaret:r=!1,disabled:s=!1,readOnly:o=!1,invalid:l=!1,warning:c=!1,inlineTokens:u,inFilteringToken:d,ariaHasPopup:p,ariaLabel:g,ariaLabelledby:v,ariaDescribedby:w,ariaControls:h,onKeyDown:C,onKeyUp:R,onMouseDown:k,onClick:O,onFocus:y,onBlur:x,autoFocus:N}=e,_=ie(e,["children","pressed","hideCaret","disabled","readOnly","invalid","warning","inlineTokens","inFilteringToken","ariaHasPopup","ariaLabel","ariaLabelledby","ariaDescribedby","ariaControls","onKeyDown","onKeyUp","onMouseDown","onClick","onFocus","onBlur","autoFocus"]);const M=Te(_);let A=Object.assign(Object.assign({},M),{type:"button",className:B(re["button-trigger"],bt["button-trigger"],M.className,n&&re.pressed,s&&re.disabled,l&&re.invalid,c&&!l&&re.warning,!r&&re["has-caret"],o&&re.readonly,d&&re["in-filtering-token"],d&&re[`in-filtering-token-${d}`],u&&re["inline-tokens"]),disabled:s,"aria-expanded":n,"aria-label":g,"aria-labelledby":v,"aria-describedby":w,"aria-haspopup":p??"listbox","aria-controls":h,"aria-disabled":o&&!s?"true":void 0,autoFocus:N});o||(A=Object.assign(Object.assign({},A),{onKeyDown:C&&(E=>Je(C,E)),onKeyUp:R&&(E=>Je(R,E)),onMouseDown:k&&(E=>je(k,{},E)),onClick:O&&(E=>je(O,{},E)),onFocus:y&&(E=>je(y,{},E)),onBlur:x&&(E=>je(x,{relatedTarget:E.relatedTarget},E))})),l&&(A["aria-invalid"]=l);const S={action:"expand",detail:{label:{root:"self"},expanded:`${!n}`}};return i.createElement("button",Object.assign({ref:a},A,s||o?{}:Ge(S)),t,!r&&i.createElement("span",{className:re.arrow},i.createElement(We,{name:"caret-down-filled",variant:s||o?"disabled":"normal"})))},gn=i.forwardRef(fn),pn=i.forwardRef(({ariaLabelledby:e,ariaDescribedby:a,controlId:t,invalid:n,inlineLabelText:r,warning:s,triggerProps:o,selectedOption:l,selectedOptions:c,triggerVariant:u,inFilteringToken:d,isOpen:p,placeholder:g,disabled:v,readOnly:w},h)=>{const C=Oe(),R=t??C,k=Oe("trigger-content-");let O=$e(e,k),y=null;u==="tokens"?c?.length?(y=i.createElement("span",{className:B(z["inline-token-trigger"],v&&z["inline-token-trigger--disabled"],z["visual-refresh"])},i.createElement("span",{className:z["inline-token-list"]},c.map(({label:_},M)=>i.createElement("span",{key:M,className:z["inline-token"]},_))),i.createElement("span",{className:z["inline-token-counter"],id:k},i.createElement("span",{className:z["inline-token-hidden-placeholder"]},g),i.createElement("span",null,"(",c.length,")"))),O=e):y=i.createElement("span",{"aria-disabled":"true",className:B(z.placeholder,z.trigger),id:k},g):l?u==="option"?y=i.createElement(Qe,{id:k,option:Object.assign(Object.assign({},l),{disabled:v}),triggerVariant:!0}):y=i.createElement("span",{id:k,className:z.trigger},l.label||l.value):y=i.createElement("span",{"aria-disabled":"true",className:B(z.placeholder,z.trigger),id:k},g);const x=Ie(o.ref,h),N=i.createElement(gn,Object.assign({},o,{id:R,ref:x,pressed:!!p,disabled:v,readOnly:w,invalid:n,warning:s&&!n,inFilteringToken:d,inlineTokens:u==="tokens",ariaDescribedby:a,ariaLabelledby:O}),y);return i.createElement(i.Fragment,null,r?i.createElement("div",{className:z["inline-label-wrapper"]},i.createElement("label",{htmlFor:t,className:z["inline-label"]},r),i.createElement("div",{className:z["inline-label-trigger-wrapper"]},N)):i.createElement(i.Fragment,null,N))});function xe(){return xe=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},xe.apply(this,arguments)}function hn(e,a){if(e==null)return{};var t={},n=Object.keys(e),r,s;for(s=0;s<n.length;s++)r=n[s],!(a.indexOf(r)>=0)&&(t[r]=e[r]);return t}var mn=["bottom","height","left","right","top","width"],bn=function(a,t){return a===void 0&&(a={}),t===void 0&&(t={}),mn.some(function(n){return a[n]!==t[n]})},be=new Map,vt,vn=function e(){var a=[];be.forEach(function(t,n){var r=n.getBoundingClientRect();bn(r,t.rect)&&(t.rect=r,a.push(t))}),a.forEach(function(t){t.callbacks.forEach(function(n){return n(t.rect)})}),vt=window.requestAnimationFrame(e)};function _n(e,a){return{observe:function(){var n=be.size===0;be.has(e)?be.get(e).callbacks.push(a):be.set(e,{rect:void 0,hasRectChanged:!1,callbacks:[a]}),n&&vn()},unobserve:function(){var n=be.get(e);if(n){var r=n.callbacks.indexOf(a);r>=0&&n.callbacks.splice(r,1),n.callbacks.length||be.delete(e),be.size||cancelAnimationFrame(vt)}}}}var Ae=typeof window<"u"?i.useLayoutEffect:i.useEffect;function wn(e,a){a===void 0&&(a={width:0,height:0});var t=i.useState(e.current),n=t[0],r=t[1],s=i.useReducer(yn,a),o=s[0],l=s[1],c=i.useRef(!1);return Ae(function(){e.current!==n&&r(e.current)}),Ae(function(){if(n&&!c.current){c.current=!0;var u=n.getBoundingClientRect();l({rect:u})}},[n]),i.useEffect(function(){if(n){var u=_n(n,function(d){l({rect:d})});return u.observe(),function(){u.unobserve()}}},[n]),o}function yn(e,a){var t=a.rect;return e.height!==t.height||e.width!==t.width?t:e}var En=function(){return 50},xn=function(a){return a},kn=function(a,t){var n=t?"offsetWidth":"offsetHeight";return a[n]},_t=function(a){for(var t=Math.max(a.start-a.overscan,0),n=Math.min(a.end+a.overscan,a.size-1),r=[],s=t;s<=n;s++)r.push(s);return r};function On(e){var a,t=e.size,n=t===void 0?0:t,r=e.estimateSize,s=r===void 0?En:r,o=e.overscan,l=o===void 0?1:o,c=e.paddingStart,u=c===void 0?0:c,d=e.paddingEnd,p=d===void 0?0:d,g=e.parentRef,v=e.horizontal,w=e.scrollToFn,h=e.useObserver,C=e.initialRect,R=e.onScrollElement,k=e.scrollOffsetFn,O=e.keyExtractor,y=O===void 0?xn:O,x=e.measureSize,N=x===void 0?kn:x,_=e.rangeExtractor,M=_===void 0?_t:_,A=v?"width":"height",S=v?"scrollLeft":"scrollTop",E=i.useRef({scrollOffset:0,measurements:[]}),q=i.useState(0),W=q[0],V=q[1];E.current.scrollOffset=W;var Q=h||wn,K=Q(g,C),J=K[A];E.current.outerSize=J;var H=i.useCallback(function(T){g.current&&(g.current[S]=T)},[g,S]),de=w||H;w=i.useCallback(function(T){de(T,H)},[H,de]);var Z=i.useState({}),Se=Z[0],fe=Z[1],Pe=i.useCallback(function(){return fe({})},[]),ge=i.useRef([]),ee=i.useMemo(function(){var T=ge.current.length>0?Math.min.apply(Math,ge.current):0;ge.current=[];for(var F=E.current.measurements.slice(0,T),I=T;I<n;I++){var f=y(I),m=Se[f],L=F[I-1]?F[I-1].end:u,j=typeof m=="number"?m:s(I),D=L+j;F[I]={index:I,start:L,size:j,end:D,key:f}}return F},[s,Se,u,n,y]),te=(((a=ee[n-1])==null?void 0:a.end)||u)+p;E.current.measurements=ee,E.current.totalSize=te;var G=R?R.current:g.current,pe=i.useRef(k);pe.current=k,Ae(function(){if(!G){V(0);return}var T=function(I){var f=pe.current?pe.current(I):G[S];V(f)};return T(),G.addEventListener("scroll",T,{capture:!1,passive:!0}),function(){G.removeEventListener("scroll",T)}},[G,S]);var Y=Rn(E.current),he=Y.start,ve=Y.end,_e=i.useMemo(function(){return M({start:he,end:ve,overscan:l,size:ee.length})},[he,ve,l,ee.length,M]),Re=i.useRef(N);Re.current=N;var ze=i.useMemo(function(){for(var T=[],F=function(L,j){var D=_e[L],X=ee[D],ae=xe(xe({},X),{},{measureRef:function(me){if(me){var ce=Re.current(me,v);if(ce!==ae.size){var we=E.current.scrollOffset;ae.start<we&&H(we+(ce-ae.size)),ge.current.push(D),fe(function(He){var Ne;return xe(xe({},He),{},(Ne={},Ne[ae.key]=ce,Ne))})}}}});T.push(ae)},I=0,f=_e.length;I<f;I++)F(I);return T},[_e,H,v,ee]),Ce=i.useRef(!1);Ae(function(){Ce.current&&fe({}),Ce.current=!0},[s]);var le=i.useCallback(function(T,F){var I=F===void 0?{}:F,f=I.align,m=f===void 0?"start":f,L=E.current,j=L.scrollOffset,D=L.outerSize;m==="auto"&&(T<=j?m="start":T>=j+D?m="end":m="start"),m==="start"?w(T):m==="end"?w(T-D):m==="center"&&w(T-D/2)},[w]),ne=i.useCallback(function(T,F){var I=F===void 0?{}:F,f=I.align,m=f===void 0?"auto":f,L=hn(I,["align"]),j=E.current,D=j.measurements,X=j.scrollOffset,ae=j.outerSize,U=D[Math.max(0,Math.min(T,n-1))];if(U){if(m==="auto")if(U.end>=X+ae)m="end";else if(U.start<=X)m="start";else return;var me=m==="center"?U.start+U.size/2:m==="end"?U.end:U.start;le(me,xe({align:m},L))}},[le,n]),se=i.useCallback(function(){for(var T=arguments.length,F=new Array(T),I=0;I<T;I++)F[I]=arguments[I];ne.apply(void 0,F),requestAnimationFrame(function(){ne.apply(void 0,F)})},[ne]);return{virtualItems:ze,totalSize:te,scrollToOffset:le,scrollToIndex:se,measure:Pe}}var Sn=function(a,t,n,r){for(;a<=t;){var s=(a+t)/2|0,o=n(s);if(o<r)a=s+1;else if(o>r)t=s-1;else return s}return a>0?a-1:0};function Rn(e){for(var a=e.measurements,t=e.outerSize,n=e.scrollOffset,r=a.length-1,s=function(u){return a[u].start},o=Sn(0,r,s,n),l=o;l<r&&a[l].end<n+t;)l++;return{start:o,end:l}}function Cn(e){const a=_t(e);return a[0]===0?a:[0,...a]}const Tn=100;function In({items:e,parentRef:a,estimateSize:t,firstItemSticky:n}){const r=On({size:e.length,parentRef:a,estimateSize:t,overscan:5,rangeExtractor:n?Cn:void 0}),s=b.useRef(new WeakMap),o=r.virtualItems.map(c=>`${c.index}`).join(":");return b.useEffect(()=>{s.current=new WeakMap},[o,e,t]),{virtualItems:b.useMemo(()=>r.virtualItems.map(c=>Object.assign(Object.assign({},c),{measureRef:u=>{var d;const p=(d=s.current.get(e[c.index]))!==null&&d!==void 0?d:0;p<Tn&&(c.measureRef(u),s.current.set(e[c.index],p+1))}})),[e,r.virtualItems]),totalSize:r.totalSize,scrollToIndex:r.scrollToIndex}}const Pn=(e,a)=>e.menuProps.open?i.createElement(zn,Object.assign({},e,{ref:a})):i.createElement(Nn,Object.assign({},e,{ref:a})),zn=b.forwardRef(({menuProps:e,getOptionProps:a,filteredOptions:t,filteringValue:n,highlightType:r,checkboxes:s,hasDropdownStatus:o,listBottom:l,useInteractiveGroups:c,screenReaderContent:u,firstOptionSticky:d},p)=>{const[g,v]=it(_=>({inner:_.contentBoxWidth,outer:_.borderBoxWidth}),[]),w=b.useRef(null),h=Ie(v,w,e.ref),C=b.useRef(),{virtualItems:R,totalSize:k,scrollToIndex:O}=In({items:t,parentRef:w,estimateSize:b.useCallback(()=>mt,[g?.inner,n]),firstItemSticky:d});b.useImperativeHandle(p,()=>_=>{if(r.moveFocus){const M=C.current!==void 0&&_<C.current;d&&M&&_!==0&&w.current?ht({index:_,menuEl:w?.current}):O(_)}C.current=_},[d,r.moveFocus,O]);const y=d?R[0].size:0,x=!!g&&g.inner<g.outer,N=pt({options:R.map(({index:_})=>t[_]),getOptionProps:a,filteringValue:n,highlightType:r,checkboxes:s,hasDropdownStatus:o,virtualItems:R,useInteractiveGroups:c,screenReaderContent:u,firstOptionSticky:d,withScrollbar:x});return i.createElement(Ue,Object.assign({},e,{stickyItemBlockSize:y,ref:h}),N,i.createElement("div",{"aria-hidden":"true",key:"total-size",className:z["layout-strut"],style:{height:k-y}}),l?i.createElement("li",{role:"option",className:z["list-bottom"]},l):null)}),Nn=b.forwardRef(({menuProps:e,listBottom:a},t)=>(b.useImperativeHandle(t,()=>()=>{},[]),i.createElement(Ue,Object.assign({},e,{ref:e.ref}),a?i.createElement("li",{role:"option",className:z["list-bottom"]},a):null))),Mn=b.forwardRef(Pn);function Fn(e,a){return!a||!e?[]:e.filter(t=>qe(t,a,!1))}function Ln({option:e,parentGroup:a,highlightText:t}){return[a&&a.label,e.__labelPrefix,e.label||e.value,e.description,e.labelTag].concat(e.tags).concat(Fn(e.filteringTags,t)).filter(n=>!!n).join(" ")}function Dn({highlightText:e,announceSelected:a,highlightedOption:t,getParent:n,selectedAriaLabel:r,renderHighlightedAriaLive:s}){const o=b.useRef(void 0);if(b.useEffect(()=>{if(t){const g=requestAnimationFrame(()=>{o.current=n(t)});return()=>cancelAnimationFrame(g)}}),!t)return"";const l=t.option,c=n(t),u=c&&c!==o.current?c:void 0;if(s)return s(l,u);const d=a&&r?r:"",p=Ln({option:l,parentGroup:u,highlightText:e});return[d,p].filter(Boolean).join(" ")}const jn=({onLoadItems:e,options:a,statusType:t})=>{const n=b.useRef(void 0);return{fireLoadItems:l=>{n.current!==l&&(n.current=l,ke(e,{filteringText:l,firstPage:!0,samePage:!1}))},handleLoadMore:()=>{const l=a.length===0;t==="pending"&&ke(e,{firstPage:l,samePage:!1,filteringText:n.current||""})},handleRecoveryClick:()=>ke(e,{firstPage:!1,samePage:!0,filteringText:n.current||""})}},$n=e=>e.split("").every(a=>a===e[0]);function Bn(e,a,t,n){const r=n?dt:ut,s=l=>ct(e,l,!0).filter(c=>r(c)),o=s(a);if(o.length===1)return o[0];if(t&&a.length>1&&$n(a)){const l=s(a[0]);if(l.length>0){let c=Me(t)?l.map(({option:u})=>u).indexOf(t):l.map(({option:u})=>u.value).indexOf(t.value);return c+=1,c=c%l.length,l[c]}}return o.length>0?o[0]:null}function An({isEnabled:e,options:a,highlightOption:t,highlightedOption:n,useInteractiveGroups:r}){const s=b.useRef(""),o=Pt(()=>s.current="",500);return l=>{if(!e)return;const{key:c}=l;if(!c||c.length!==1)return;o();const u=s.current+c;s.current=u;const d=Bn(a,u,n,r);d&&t(d)}}class Ee{constructor(a,t=a==="keyboard"){this.type=a,this.moveFocus=t}}function Hn({options:e,isHighlightable:a}){const[t,n]=b.useState(-1),[r,s]=b.useState(new Ee("keyboard")),o=b.useCallback((p,g)=>{n(p),s(v=>v.type!==g.type?g:v)},[]),l=e[t]&&a(e[t])?e[t]:void 0,c=(p,g=t,v)=>{let h=g===-1&&p===-1?e.length:g;do h+=p;while(e[h]&&!a(e[h]));e[h]&&o(h,v)},u=(p,g)=>c(p,t,g),d=b.useCallback((p,g)=>{const v=e.indexOf(p);o(v,g)},[e,o]);return[{highlightType:r,highlightedIndex:t,highlightedOption:l},{setHighlightedIndexWithMouse:(p,g=!1)=>o(p,new Ee("mouse",g)),moveHighlightWithKeyboard:p=>u(p,new Ee("keyboard")),highlightOptionWithKeyboard:p=>d(p,new Ee("keyboard")),resetHighlightWithKeyboard:()=>o(-1,new Ee("keyboard")),goHomeWithKeyboard:()=>c(1,-1,new Ee("keyboard")),goEndWithKeyboard:()=>c(-1,e.length,new Ee("keyboard"))}]}const nt=(e,a)=>{if(!(a<0))return`${e}-option-${a}`},Kn=36,Vn=35,qn=({goUp:e,goDown:a,selectOption:t,goHome:n,goEnd:r,closeDropdown:s,preventNativeSpace:o=!1})=>l=>{switch(l.detail.keyCode){case ue.up:l.preventDefault(),e();break;case ue.down:l.preventDefault(),a();break;case Kn:n();break;case Vn:r();break;case ue.escape:l.stopPropagation(),s();break;case ue.enter:l.preventDefault(),t();break;case ue.space:o&&(l.preventDefault(),t())}},Wn=({openDropdown:e,goHome:a})=>t=>{switch(t.detail.keyCode){case ue.up:case ue.down:t.preventDefault(),a(),e();break;case ue.space:case ue.enter:t.preventDefault(),e();break}},Gn=(e,a)=>(a||[]).map(t=>{for(const n of e)if(n.type!=="parent"&&n.option.value===t.value)return n;return{option:t}});function Un({selectedOptions:e,updateSelectedOption:a,options:t,filteringType:n,onBlur:r,onFocus:s,externalRef:o,keepOpen:l,embedded:c,fireLoadItems:u,setFilteringValue:d,useInteractiveGroups:p=!1,statusType:g,isAllSelected:v,isSomeSelected:w,toggleAll:h}){const C=p?dt:ut,R=f=>!!f&&(p||f.type!=="parent"),k=b.useRef(null),O=b.useRef(null),y=b.useRef(null),x=n!=="none"&&!c,N=x?k:y,_=Gn(t,e),M=e.reduce((f,m)=>(m.value&&f.add(m.value),f),new Set),[{highlightType:A,highlightedOption:S,highlightedIndex:E},{moveHighlightWithKeyboard:q,resetHighlightWithKeyboard:W,setHighlightedIndexWithMouse:V,highlightOptionWithKeyboard:Q,goHomeWithKeyboard:K,goEndWithKeyboard:J}]=Hn({options:t,isHighlightable:R}),{isOpen:H,openDropdown:de,closeDropdown:Z,toggleDropdown:Se,openedWithKeyboard:fe}=zt({defaultOpen:c,onOpen:()=>u(""),onClose:()=>{W(),d?.("")}}),Pe=()=>{ke(s,{})},ge=()=>{ke(r,{}),Z()},ee=_.length>0,te=Oe("option-list"),G=Oe("dialog"),pe=nt(te,E),Y=()=>{var f;l||((f=O.current)===null||f===void 0||f.focus(),Z())},he=f=>{const m=f||S;!m||!C(m)||(m.type==="select-all"&&h?h():a(m.option),Y())},ve=qn({goUp:()=>{if(!p&&S?.type==="child"&&E===1||E===0){J();return}q(-1)},goDown:()=>{if(E===t.length-1){K();return}q(1)},selectOption:he,goHome:K,goEnd:J,closeDropdown:()=>{var f;c||((f=O.current)===null||f===void 0||f.focus(),Z())},preventNativeSpace:!x||!!S}),_e=Wn({openDropdown:()=>de(!0),goHome:K}),Re=()=>({onFocus:Pe,onBlur:ge,dropdownContentId:G,dropdownContentRole:x?"dialog":void 0}),ze=(f=!1,m=!1)=>{const L={ref:O,onFocus:()=>Z(),autoFocus:m,ariaHasPopup:x?"dialog":"listbox",ariaControls:H?x?G:te:void 0};return f||(L.onMouseDown=j=>{var D;j.preventDefault(),H&&((D=O.current)===null||D===void 0||D.focus()),Se()},L.onKeyDown=_e),L},Ce=()=>!x||!d?{}:{ref:k,onKeyDown:ve,onChange:f=>{d(f.detail.value),W()},__onDelayedInput:f=>{u(f.detail.value)},__nativeAttributes:{"aria-activedescendant":pe,"aria-owns":te,"aria-controls":te}},le=()=>{const f={id:te,ref:y,open:H,onMouseUp:m=>{m>-1&&he(t[m])},onMouseMove:m=>{m>-1&&V(m)},statusType:g};return x||(f.onKeyDown=ve,f.nativeAttributes={"aria-activedescendant":pe}),c&&(f.onFocus=()=>{S||K()},f.onBlur=()=>{W()}),f},ne=f=>{const m=f.options.filter(D=>!!D.value&&M.has(D.value)).length,L=m>0,j=m===f.options.length;return{selected:L&&j&&p,indeterminate:L&&!j}},se=(f,m)=>{var L;const j=f.type==="select-all",D=f===S,X=Me(f.option)?ne(f.option):void 0,ae=j?v:_.indexOf(f)>-1||!!X?.selected,U=(L=t[m+1])===null||L===void 0?void 0:L.option,me=U&&Me(U)?ne(U).selected:_.indexOf(t[m+1])>-1;return{key:m,option:f,highlighted:D,selected:ae,isNextSelected:me,indeterminate:!!X?.indeterminate||j&&!v&&w,"data-mouse-target":R(f)?m:-1,id:nt(te,m)}},T=st(H);b.useEffect(()=>{H&&!T&&ee&&!x&&(fe?Q(_[0]):V(t.indexOf(_[0]),!0))},[H,_,ee,V,Q,fe,t,T,x]),b.useEffect(()=>{var f;H&&!c&&((f=N.current)===null||f===void 0||f.focus({preventScroll:!0}))},[H,N,c]),Nt(o,O);const F=!!S&&Me(S.option)&&ne(S.option).selected,I=!!S&&(_.indexOf(S)>-1||F);return{isOpen:H,highlightedOption:S,highlightedIndex:E,highlightType:A,getTriggerProps:ze,getDropdownProps:Re,getMenuProps:le,getFilterProps:Ce,getOptionProps:se,highlightOption:Q,selectOption:he,announceSelected:I,dialogId:G}}const Qn={root:"awsui_root_r2vco_d91lo_145"},Xn=i.forwardRef((e,a)=>{var t,{options:n,filteringType:r="none",filteringPlaceholder:s,filteringAriaLabel:o,filteringClearAriaLabel:l,filteringResultsText:c,inlineLabelText:u,ariaRequired:d,placeholder:p,disabled:g,readOnly:v,ariaLabel:w,statusType:h="finished",empty:C,loadingText:R,finishedText:k,errorText:O,noMatch:y,triggerVariant:x="label",renderHighlightedAriaLive:N,selectedOption:_,onBlur:M,onFocus:A,onLoadItems:S,onChange:E,virtualScroll:q,expandToViewport:W,autoFocus:V,__inFilteringToken:Q,__internalRootRef:K=null}=e,J=ie(e,["options","filteringType","filteringPlaceholder","filteringAriaLabel","filteringClearAriaLabel","filteringResultsText","inlineLabelText","ariaRequired","placeholder","disabled","readOnly","ariaLabel","statusType","empty","loadingText","finishedText","errorText","noMatch","triggerVariant","renderHighlightedAriaLive","selectedOption","onBlur","onFocus","onLoadItems","onChange","virtualScroll","expandToViewport","autoFocus","__inFilteringToken","__internalRootRef"]);const H=Te(J),de=Mt(J),Z=Ft("select"),Se=Z("errorIconAriaLabel",J.errorIconAriaLabel),fe=Z("selectedAriaLabel",J.selectedAriaLabel),Pe=Z("recoveryText",J.recoveryText);J.recoveryText;const{handleLoadMore:ge,handleRecoveryClick:ee,fireLoadItems:te}=jn({onLoadItems:S,options:n,statusType:h}),[G,pe]=b.useState(""),{filteredOptions:Y,parentMap:he,totalCount:ve,matchesCount:_e}=Gt(n,r,G),Re=b.useRef(null),ze=b.useRef(null),Ce=Oe("trigger"),le=(t=de.controlId)!==null&&t!==void 0?t:Ce,ne=b.useRef(null),{isOpen:se,highlightType:T,highlightedOption:F,highlightedIndex:I,getTriggerProps:f,getDropdownProps:m,getFilterProps:L,getMenuProps:j,getOptionProps:D,highlightOption:X,selectOption:ae,announceSelected:U}=Un({selectedOptions:_?[_]:[],updateSelectedOption:oe=>ke(E,{selectedOption:oe}),options:Y,filteringType:r,onBlur:M,onFocus:A,externalRef:a,fireLoadItems:te,setFilteringValue:pe,statusType:h}),me=An({isEnabled:r==="none"&&!v,options:Y,highlightOption:se?X:ae,highlightedOption:se?F?.option:_}),ce=Oe("select-arialabel-"),we=Oe("footer");b.useEffect(()=>{var oe;(oe=ne.current)===null||oe===void 0||oe.call(ne,I)},[I]);const He=i.createElement(Ut,Object.assign({clearAriaLabel:l,filteringType:r,placeholder:s,ariaLabel:o,ariaRequired:d,value:G},L())),Ne=i.createElement(pn,Object.assign({ref:ze,placeholder:p,disabled:g,readOnly:v,triggerVariant:x,triggerProps:f(g,V),selectedOption:_,isOpen:se,inFilteringToken:Q,inlineLabelText:u},de,{controlId:le,ariaLabelledby:$e(de.ariaLabelledby,ce)})),wt=!n||n.length===0,yt=Y&&Y.length===0,Xe=r!=="none"&&G.length>0&&Y&&Y.length>0,Et=Xe?c?.(_e,ve):void 0,ye=Ht({statusType:h,empty:C,loadingText:R,finishedText:k,errorText:O,recoveryText:Pe,isEmpty:wt,isNoMatch:yt,noMatch:y,isFiltered:Xe,filteringResultsText:Et,errorIconAriaLabel:Se,onRecoveryClick:ee,hasRecoveryCallback:!!S}),xt=Object.assign(Object.assign({},j()),{onLoadMore:ge,ariaLabelledby:$e(ce,le),ariaDescribedby:ye.content?we:void 0}),kt=Dn({announceSelected:U,highlightedOption:F,getParent:oe=>{var De;return(De=he.get(oe))===null||De===void 0?void 0:De.option},selectedAriaLabel:fe,renderHighlightedAriaLive:N}),Ot=q?Mn:dn,St=oe=>{oe.target!==document.activeElement&&oe.preventDefault()},Rt=Ie(Re,K),Ke=m();return i.createElement("div",Object.assign({},H,{ref:Rt,className:B(Qn.root,H.className),onKeyDown:me}),i.createElement(Lt,Object.assign({},Ke,{ariaLabelledby:Ke.dropdownContentRole?$e(ce,le):void 0,ariaDescribedby:Ke.dropdownContentRole&&ye.content?we:void 0,open:se,stretchTriggerHeight:!!Q,stretchBeyondTriggerWidth:!0,trigger:Ne,header:He,onMouseDown:St,footer:ye.isSticky?i.createElement(Ze,{content:se?ye.content:null,id:we}):null,expandToViewport:W}),i.createElement(Ot,{listBottom:ye.isSticky?null:i.createElement(Ze,{content:se?ye.content:null,id:we}),menuProps:xt,getOptionProps:D,filteredOptions:Y,filteringValue:G,ref:ne,hasDropdownStatus:ye.content!==null,screenReaderContent:kt,highlightType:T})),i.createElement("div",{hidden:!0,id:ce},w||u))}),Yn=i.forwardRef((e,a)=>{var{options:t=[],filteringType:n="none",statusType:r="finished",triggerVariant:s="label"}=e,o=ie(e,["options","filteringType","statusType","triggerVariant"]);const l=Dt("Select",{props:{autoFocus:o.autoFocus,expandToViewport:o.expandToViewport,filteringType:n,triggerVariant:s,virtualScroll:o.virtualScroll,readOnly:o.readOnly},metadata:{hasInlineLabel:!!o.inlineLabelText,hasDisabledReasons:t.some(d=>!!d.disabledReason)}}),c=jt(o),u={name:"awsui.Select",label:`.${bt["button-trigger"]}`,properties:{disabled:`${!!c.disabled}`}};return i.createElement(Xn,Object.assign({options:t,filteringType:n,statusType:r,triggerVariant:s},c,l,{ref:a},Ge({component:u})))});$t(Yn,"Select");export{Qe as O,Yn as S};
