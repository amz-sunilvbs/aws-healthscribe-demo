import{_ as N,i as A,k as x,m as t,n as E,o as C,a4 as F,cw as w,N as T,bI as R,t as j,cx as B,cy as M,cl as L,cz as P,bN as O,cA as $,T as D,r as k,cB as z,cC as q,cD as U,cE as W,v as G}from"./index-DRyosgDU.js";const _={header:"awsui_header_6xiez_1ns0c_5"},o={root:"awsui_root_1i0s3_3jgay_145",header:"awsui_header_1i0s3_3jgay_177",content:"awsui_content_1i0s3_3jgay_181",error:"awsui_error_1i0s3_3jgay_185",footer:"awsui_footer_1i0s3_3jgay_189","actions-section":"awsui_actions-section_1i0s3_3jgay_193","secondary-actions":"awsui_secondary-actions_1i0s3_3jgay_202",actions:"awsui_actions_1i0s3_3jgay_193"};function H(n){var{children:s,header:i,errorText:e,errorIconAriaLabel:c,actions:l,secondaryActions:a,__internalRootRef:d,__injectAnalyticsComponentMetadata:f,__errorSlotId:v}=n,y=N(n,["children","header","errorText","errorIconAriaLabel","actions","secondaryActions","__internalRootRef","__injectAnalyticsComponentMetadata","__errorSlotId"]);const u=A(y),m=x("form")("errorIconAriaLabel",c),r={component:{name:"awsui.Form",label:{selector:["h1","h2","h3"].map(S=>`.${_.header} ${S}`)}}};return t.createElement("div",Object.assign({},u,{ref:d,className:E(o.root,u.className)},f?C(r):{}),i&&t.createElement("div",{className:E(o.header,_.header)},i),s&&t.createElement("div",{className:o.content},s),e&&t.createElement(F,{margin:{top:"l"}},t.createElement(w,{type:"error",statusIconAriaLabel:m},t.createElement("div",{className:o.error,id:v},e))),(l||a)&&t.createElement("div",{className:o.footer},t.createElement("div",{className:o["actions-section"]},l&&t.createElement("div",{className:o.actions},l),a&&t.createElement("div",{className:o["secondary-actions"]},a))),e&&t.createElement(T,{hidden:!0,tagName:"span",assertive:!0},m,", ",e))}const J=n=>{var{variant:s="full-page",actions:i,errorText:e,__internalRootRef:c}=n,l=N(n,["variant","actions","errorText","__internalRootRef"]);const{funnelIdentifier:a,funnelInteractionId:d,funnelProps:f,funnelSubmit:v,funnelNextOrSubmitAttempt:y,errorCount:u,submissionAttempt:g,funnelErrorContext:m}=O(),r=$(),S=({variant:p})=>{p==="primary"&&(y(),v())},I=D("form-error-");return k.useEffect(()=>{var p,b;if(d&&e){u.current++;const h=z(r.current.stepNameSelector);return q.funnelStepError({funnelInteractionId:d,stepNumber:r.current.stepNumber,stepNameSelector:r.current.stepNameSelector,stepName:h,stepIdentifier:r.current.stepIdentifier,currentDocument:(p=c.current)===null||p===void 0?void 0:p.ownerDocument,totalSubSteps:r.current.subStepCount.current,funnelIdentifier:a,subStepAllSelector:U(),stepErrorContext:r.current.stepErrorContext,subStepConfiguration:(b=r.current.subStepConfiguration.current)===null||b===void 0?void 0:b.get(r.current.stepNumber),stepErrorSelector:"#"+I}),()=>{u.current--}}},[d,a,e,g,u,m,I,c,r]),t.createElement(W.Provider,{value:{onClick:S}},t.createElement(H,Object.assign({variant:s,actions:i,errorText:e,__errorSlotId:I},l,f,r.current.funnelStepProps,{__internalRootRef:c,__injectAnalyticsComponentMetadata:!0})))};function K(n){var{variant:s="full-page"}=n,i=N(n,["variant"]);const e=R(i),c=j("Form",{props:{variant:s,flowType:e?.flowType},metadata:{hasResourceType:!!e?.resourceType,hasInstanceIdentifier:!!e?.instanceIdentifier}},e),a=B()||`.${_.header} .${L["heading-text"]}`;return t.createElement(M,{funnelIdentifier:e?.instanceIdentifier,funnelFlowType:e?.flowType,funnelErrorContext:e?.errorContext,funnelResourceType:e?.resourceType,funnelType:"single-page",optionalStepNumbers:[],totalFunnelSteps:1,funnelNameSelectors:()=>[a,`.${_.header}`]},t.createElement(P,{stepIdentifier:e?.instanceIdentifier,stepErrorContext:e?.errorContext,stepNumber:1},t.createElement(J,Object.assign({variant:s},i,c))))}G(K,"Form");export{K as F};
