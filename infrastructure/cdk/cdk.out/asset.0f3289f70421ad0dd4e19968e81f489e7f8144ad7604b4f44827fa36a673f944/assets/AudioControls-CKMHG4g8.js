import{_ as A,t as H,m as s,p as J,v as K,i as Z,r as a,k as ee,a0 as te,q as ne,an as F,bV as se,n as I,cF as v,ar as re,T as oe,bW as ae,bX as ie,cj as le,bY as ce,ak as de,cG as ue,P as pe,cH as fe,Q as me,j as e,B as h,a as O,x as ge}from"./index-DRyosgDU.js";function y(n){var{size:m="normal",variant:u="normal"}=n,i=A(n,["size","variant"]);const l=H("Icon",{props:{name:i.name,size:m,variant:u}});return s.createElement(J,Object.assign({size:m,variant:u},i,l))}K(y,"Icon");const xe=s.forwardRef(ve);function ve(n,m){var{position:u="right",size:i="medium",fixedWidth:l=!1,triggerType:o="text",dismissButton:c=!0,children:g,header:P,content:x,triggerAriaLabel:b,wrapTriggerText:C=!0,isInline:t=!1,renderWithPortal:d=!1,__onOpen:B,__internalRootRef:V=null,__closeAnalyticsAction:M}=n,_=A(n,["position","size","fixedWidth","triggerType","dismissButton","children","header","content","triggerAriaLabel","wrapTriggerText","isInline","renderWithPortal","__onOpen","__internalRootRef","__closeAnalyticsAction"]);const W=Z(_),p=a.useRef(null),U=a.useRef(null),E=a.useRef(null),q=ee("popover")("dismissAriaLabel",_.dismissAriaLabel),[w,k]=a.useState(!1),R=a.useCallback(()=>{var r,f;["text","text-inline"].includes(o)?(r=p.current)===null||r===void 0||r.focus():p.current&&((f=te(p.current))===null||f===void 0||f.focus())},[o]),S=a.useCallback(()=>{ne(B),k(!0)},[B]),L=a.useCallback(()=>{k(!1),R()},[R]),$=a.useCallback(r=>{const f=r.keyCode===F.escape,X=r.keyCode===F.tab;f&&w&&r.stopPropagation(),(X||f)&&k(!1)},[w]);a.useImperativeHandle(m,()=>({dismissPopover:L,focus:()=>{k(!1),R()}})),a.useEffect(()=>{if(!p.current)return;const r=p.current.ownerDocument,f=()=>{E.current===null&&k(!1)};return r.addEventListener("mousedown",f),()=>{r.removeEventListener("mousedown",f)}},[]);const G=se(p),T={ref:p,onClick:S,onKeyDown:$,className:I(v.trigger,v[`trigger-type-${o}`])},{tabIndex:Y}=re(p),D=oe(),z=s.createElement("div",{"aria-live":c?void 0:"polite","aria-atomic":c?void 0:!0,className:I(G,!d&&v["popover-inline-content"]),"data-awsui-referrer-id":D},s.createElement(ae,{size:i,fixedWidth:l,position:u,trackRef:p,arrow:r=>s.createElement(ie,{position:r}),renderWithPortal:d,zIndex:d?7e3:void 0},s.createElement(le.Provider,{value:{defaultVariant:"primary"}},s.createElement(ce,{dismissButton:c,dismissAriaLabel:q,header:P,onDismiss:L,overflowVisible:"both",closeAnalyticsAction:M},x)))),Q=de(U,V);return s.createElement("span",Object.assign({},W,{className:I(v.root,W.className,o==="filtering-token"&&v["root-filtering-token"],t&&v["no-wrap"]),ref:Q,onMouseDown:()=>{E.current=requestAnimationFrame(()=>{E.current=null})}}),["text","text-inline"].includes(o)?s.createElement("button",Object.assign({},T,{className:I(T.className,C===!1&&v["overflow-ellipsis"]),tabIndex:Y,type:"button","aria-haspopup":"dialog",id:D,"aria-label":b}),g):s.createElement("span",Object.assign({},T,{id:D}),g),w&&s.createElement(ue,null,d?s.createElement(pe,null,z):z))}const he=s.forwardRef((n,m)=>{var{position:u="right",size:i="medium",fixedWidth:l=!1,triggerType:o="text",dismissButton:c=!0,renderWithPortal:g=!1,wrapTriggerText:P=!0,header:x}=n,b=A(n,["position","size","fixedWidth","triggerType","dismissButton","renderWithPortal","wrapTriggerText","header"]);const C=H("Popover",{props:{dismissButton:c,fixedWidth:l,position:u,renderWithPortal:g,size:i,triggerType:o}}),t=fe(b),d=a.useRef(null);return me(m,d),s.createElement(xe,Object.assign({ref:d,header:x,position:u,size:i,fixedWidth:l,triggerType:o,dismissButton:c,renderWithPortal:g,wrapTriggerText:P},t,C))});K(he,"Popover");const be="D",Ce="E",je="F",ye="G",Pe="H",j={ctrlHeading:be,playerControl:Ce,playerControlInline:je,closeButton:ye,downloadButton:Pe},N=[.5,1,1.2,1.5,2];function Ee({wavesurfer:n,showControls:m,audioLoading:u,setShowControls:i,playingAudio:l,setPlayingAudio:o,playBackSpeed:c,setPlayBackSpeed:g,isEmbeded:P=!1,audioBlob:x=null}){const b=x?URL.createObjectURL(x):null,C=e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[e.jsx(h,{onClick:t=>{t.preventDefault(),n.current?.skip(-5)},children:e.jsx(y,{name:"undo"})}),l?e.jsx(h,{onClick:t=>{t.preventDefault(),n.current?.pause(),o(!l)},children:e.jsx(y,{name:"view-full"})}):e.jsx(h,{onClick:t=>{t.preventDefault(),n.current?.play(),o(!l)},children:e.jsx(y,{name:"caret-right-filled"})}),e.jsxs(h,{onClick:t=>{t.preventDefault();const d=c===N.length-1?0:c+1;n.current?.setPlaybackRate(N[d]),g(d)},children:[N[c],"x"]}),e.jsx(h,{onClick:t=>{t.preventDefault(),n.current?.skip(5)},children:e.jsx(y,{name:"redo"})}),b?e.jsx("a",{className:j.downloadButton,href:b,download:"recording."+x?.type.split(";")[0].split("/")[1],children:e.jsx(y,{name:"download"})}):null]});if(!u)return m?P?e.jsx("div",{className:j.playerControlInline,children:C}):e.jsx("div",{className:j.playerControl,children:e.jsxs(O,{children:[e.jsx("div",{className:j.closeButton,children:e.jsx(h,{onClick:t=>{t.preventDefault(),i(!1)},variant:"icon",iconName:"close"})}),e.jsx("div",{className:j.ctrlHeading,children:e.jsx(ge,{variant:"h4",children:"Audio Controls"})}),C]})}):e.jsx("div",{className:j.playerControl,children:e.jsx(O,{children:e.jsx(h,{iconName:"angle-up",onClick:t=>{t.preventDefault(),i(!0)}})})})}export{Ee as A,y as I,he as P};
