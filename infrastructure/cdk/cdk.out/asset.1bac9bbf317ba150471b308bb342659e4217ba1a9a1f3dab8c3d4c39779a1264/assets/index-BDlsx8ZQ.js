import{_ as E,g as R,d as U,e as t,f as F,h as q,U as z,ba as H,t as W,at as G,l as j,bb as J,bc as Q,b5 as V,bd as X,ay as Y,be as Z,x as ee,r as x,bf as te,bg as re,bh as ne,bi as ae,m as T}from"./index-b38B_Zcw.js";import{I as oe,s as se}from"./internal-DoAsO2xE.js";const A={header:"awsui_header_6xiez_1ns0c_5"},d={root:"awsui_root_1i0s3_3jgay_145",header:"awsui_header_1i0s3_3jgay_177",content:"awsui_content_1i0s3_3jgay_181",error:"awsui_error_1i0s3_3jgay_185",footer:"awsui_footer_1i0s3_3jgay_189","actions-section":"awsui_actions-section_1i0s3_3jgay_193","secondary-actions":"awsui_secondary-actions_1i0s3_3jgay_202",actions:"awsui_actions_1i0s3_3jgay_193"};function ie(n){var{children:o,header:s,errorText:e,errorIconAriaLabel:i,actions:l,secondaryActions:a,__internalRootRef:c,__injectAnalyticsComponentMetadata:b,__errorSlotId:m}=n,_=E(n,["children","header","errorText","errorIconAriaLabel","actions","secondaryActions","__internalRootRef","__injectAnalyticsComponentMetadata","__errorSlotId"]);const u=R(_),f=U("form")("errorIconAriaLabel",i),r={component:{name:"awsui.Form",label:{selector:["h1","h2","h3"].map(v=>`.${A.header} ${v}`)}}};return t.createElement("div",Object.assign({},u,{ref:c,className:F(d.root,u.className)},b?q(r):{}),s&&t.createElement("div",{className:F(d.header,A.header)},s),o&&t.createElement("div",{className:d.content},o),e&&t.createElement(z,{margin:{top:"l"}},t.createElement(H,{type:"error",statusIconAriaLabel:f},t.createElement("div",{className:d.error,id:m},e))),(l||a)&&t.createElement("div",{className:d.footer},t.createElement("div",{className:d["actions-section"]},l&&t.createElement("div",{className:d.actions},l),a&&t.createElement("div",{className:d["secondary-actions"]},a))),e&&t.createElement(W,{hidden:!0,tagName:"span",assertive:!0},f,", ",e))}const le=n=>{var{variant:o="full-page",actions:s,errorText:e,__internalRootRef:i}=n,l=E(n,["variant","actions","errorText","__internalRootRef"]);const{funnelIdentifier:a,funnelInteractionId:c,funnelProps:b,funnelSubmit:m,funnelNextOrSubmitAttempt:_,errorCount:u,submissionAttempt:S,funnelErrorContext:f}=Y(),r=Z(),v=({variant:p})=>{p==="primary"&&(_(),m())},y=ee("form-error-");return x.useEffect(()=>{var p,I;if(c&&e){u.current++;const h=te(r.current.stepNameSelector);return re.funnelStepError({funnelInteractionId:c,stepNumber:r.current.stepNumber,stepNameSelector:r.current.stepNameSelector,stepName:h,stepIdentifier:r.current.stepIdentifier,currentDocument:(p=i.current)===null||p===void 0?void 0:p.ownerDocument,totalSubSteps:r.current.subStepCount.current,funnelIdentifier:a,subStepAllSelector:ne(),stepErrorContext:r.current.stepErrorContext,subStepConfiguration:(I=r.current.subStepConfiguration.current)===null||I===void 0?void 0:I.get(r.current.stepNumber),stepErrorSelector:"#"+y}),()=>{u.current--}}},[c,a,e,S,u,f,y,i,r]),t.createElement(ae.Provider,{value:{onClick:v}},t.createElement(ie,Object.assign({variant:o,actions:s,errorText:e,__errorSlotId:y},l,b,r.current.funnelStepProps,{__internalRootRef:i,__injectAnalyticsComponentMetadata:!0})))};function ce(n){var{variant:o="full-page"}=n,s=E(n,["variant"]);const e=G(s),i=j("Form",{props:{variant:o,flowType:e?.flowType},metadata:{hasResourceType:!!e?.resourceType,hasInstanceIdentifier:!!e?.instanceIdentifier}},e),a=J()||`.${A.header} .${V["heading-text"]}`;return t.createElement(Q,{funnelIdentifier:e?.instanceIdentifier,funnelFlowType:e?.flowType,funnelErrorContext:e?.errorContext,funnelResourceType:e?.resourceType,funnelType:"single-page",optionalStepNumbers:[],totalFunnelSteps:1,funnelNameSelectors:()=>[a,`.${A.header}`]},t.createElement(X,{stepIdentifier:e?.instanceIdentifier,stepErrorContext:e?.errorContext,stepNumber:1},t.createElement(le,Object.assign({variant:o},s,i))))}T(ce,"Form");const ue=t.forwardRef((n,o)=>{var{value:s,type:e="text",step:i,inputMode:l,autoComplete:a=!0,spellcheck:c,disabled:b,readOnly:m,disableBrowserAutocorrect:_,onKeyDown:u,onKeyUp:S,onChange:f,onBlur:r,onFocus:v,ariaRequired:y,name:p,placeholder:I,autoFocus:h,ariaLabel:L,ariaLabelledby:B,ariaDescribedby:O,invalid:M,warning:P,controlId:D,clearAriaLabel:$}=n,k=E(n,["value","type","step","inputMode","autoComplete","spellcheck","disabled","readOnly","disableBrowserAutocorrect","onKeyDown","onKeyUp","onChange","onBlur","onFocus","ariaRequired","name","placeholder","autoFocus","ariaLabel","ariaLabelledby","ariaDescribedby","invalid","warning","controlId","clearAriaLabel"]);const K=j("Input",{props:{autoComplete:a,autoFocus:h,disableBrowserAutocorrect:_,inputMode:l,readOnly:m,spellcheck:c,type:e}}),w=R(k),N=x.useRef(null);return x.useImperativeHandle(o,()=>({focus(...g){var C;(C=N.current)===null||C===void 0||C.focus(...g)},select(){var g;(g=N.current)===null||g===void 0||g.select()}}),[N]),t.createElement(oe,Object.assign({ref:N},Object.assign(Object.assign(Object.assign({},w),K),{autoComplete:a,ariaLabel:L,ariaRequired:y,autoFocus:h,disabled:b,disableBrowserAutocorrect:_,name:p,onKeyDown:u,onKeyUp:S,onChange:f,onBlur:r,onFocus:v,placeholder:I,readOnly:m,type:e,step:i,inputMode:l,spellcheck:c,value:s,ariaDescribedby:O,ariaLabelledby:B,invalid:M,warning:P,controlId:D,clearAriaLabel:$}),{className:F(se.root,w.className),__inheritFormFieldProps:!0}))});T(ue,"Input");export{ce as F,ue as I};
