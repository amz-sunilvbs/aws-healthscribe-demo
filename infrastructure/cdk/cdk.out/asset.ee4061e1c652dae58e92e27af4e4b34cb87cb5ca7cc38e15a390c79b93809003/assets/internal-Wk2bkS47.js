import{_ as le,g as oe,x as ce,ay as de,bQ as _e,b4 as ue,N as me,q as B,r as A,bf as G,bg as be,bh as we,bR as v,e,f as b,k as pe,bS as ve,Z as fe,bT as P,bU as ge,bV as he,d as V,I as W,t as j}from"./index-ylGIQ-P8.js";function m(r,a,s){if(r)return`${a}-${s}`}function ye(r,a,s,t,o,i){return{label:m(a,r,"label"),description:m(s,r,"description"),constraint:m(t,r,"constraint"),error:m(o,r,"error"),warning:m(i,r,"warning")}}function Ee({error:r,warning:a,description:s,constraint:t}){const o=[r,a,s,t].filter(u=>!!u);return o.length?o.join(" "):void 0}function Ie(r,a,s){let t;return r?t=[{colspan:12},{colspan:12}]:t=[{colspan:{default:12,xs:8}},{colspan:{default:12,xs:4}}],a?t:[t[0]]}const Se={label:"awsui_label_aqu00_ocied_5"},n={"error-icon-shake-wrapper":"awsui_error-icon-shake-wrapper_14mhv_11w8y_153","warning-icon-shake-wrapper":"awsui_warning-icon-shake-wrapper_14mhv_11w8y_154","error-icon-scale-wrapper":"awsui_error-icon-scale-wrapper_14mhv_11w8y_184","warning-icon-scale-wrapper":"awsui_warning-icon-scale-wrapper_14mhv_11w8y_185",warning:"awsui_warning_14mhv_11w8y_154",error:"awsui_error_14mhv_11w8y_153",root:"awsui_root_14mhv_11w8y_236",label:"awsui_label_14mhv_11w8y_269",info:"awsui_info_14mhv_11w8y_285",description:"awsui_description_14mhv_11w8y_291",constraint:"awsui_constraint_14mhv_11w8y_292",hints:"awsui_hints_14mhv_11w8y_299","constraint-has-validation-text":"awsui_constraint-has-validation-text_14mhv_11w8y_300","secondary-control":"awsui_secondary-control_14mhv_11w8y_304",controls:"awsui_controls_14mhv_11w8y_308","label-hidden":"awsui_label-hidden_14mhv_11w8y_308","label-wrapper":"awsui_label-wrapper_14mhv_11w8y_311",control:"awsui_control_14mhv_11w8y_308",error__message:"awsui_error__message_14mhv_11w8y_338",warning__message:"awsui_warning__message_14mhv_11w8y_339","visually-hidden":"awsui_visually-hidden_14mhv_11w8y_343"};function Ne({id:r,children:a,errorIconAriaLabel:s}){const t=V("form-field"),o=A.useRef(null),i=t("i18nStrings.errorIconAriaLabel",s);return e.createElement(e.Fragment,null,e.createElement("div",{id:r,className:n.error},e.createElement("div",{className:n["error-icon-shake-wrapper"]},e.createElement("div",{className:n["error-icon-scale-wrapper"]},e.createElement(W,{name:"status-negative",size:"small",ariaLabel:i}))),e.createElement("span",{className:n.error__message,ref:o},a)),e.createElement(j,{assertive:!0,tagName:"span",sources:[i,o]}))}function xe({id:r,children:a,warningIconAriaLabel:s}){const t=V("form-field"),o=A.useRef(null),i=t("i18nStrings.warningIconAriaLabel",s);return e.createElement(e.Fragment,null,e.createElement("div",{id:r,className:n.warning},e.createElement("div",{className:n["warning-icon-shake-wrapper"]},e.createElement("div",{className:n["warning-icon-scale-wrapper"]},e.createElement(W,{name:"status-warning",size:"small",ariaLabel:i}))),e.createElement("span",{className:n.warning__message,ref:o},a)),e.createElement(j,{assertive:!0,tagName:"span",sources:[i,o]}))}function Ae({id:r,hasValidationText:a,children:s}){return e.createElement("div",{id:r,className:b(n.constraint,a&&n["constraint-has-validation-text"])},s)}function Re(r){var{controlId:a,stretch:s=!1,label:t,info:o,i18nStrings:i,children:u,secondaryControl:f,description:g,constraintText:w,errorText:c,warningText:d,__hideLabel:h,__internalRootRef:p=null,__disableGutters:q=!1,__analyticsMetadata:_=void 0,__style:M={}}=r,L=le(r,["controlId","stretch","label","info","i18nStrings","children","secondaryControl","description","constraintText","errorText","warningText","__hideLabel","__internalRootRef","__disableGutters","__analyticsMetadata","__style"]);const F=oe(L),$=ce("formField"),y=a||$,O=a||y,{funnelIdentifier:U,funnelInteractionId:E,submissionAttempt:z,funnelState:Q,errorCount:I}=de(),{stepIdentifier:Z,stepNumber:H,stepNameSelector:R}=_e(),{subStepErrorContext:J,subStepIdentifier:K,subStepSelector:X,subStepNameSelector:T}=ue(),C=d&&!c,l=ye(O,t,g,w,c,C?d:void 0),Y=Ee(l),ee=Ie(s,!!f),{ariaLabelledby:ne,ariaDescribedby:re,invalid:D,warning:ae}=me({}),k={ariaLabelledby:B(ne,l.label)||void 0,ariaDescribedby:B(re,Y)||void 0,invalid:!!c||!!D,warning:!!d&&!c||!!ae&&!D},te={[he]:l.label?v(l.label):void 0,[ge]:l.error?v(l.error):void 0};return A.useEffect(()=>{var S,N,x;if(E&&c&&Q.current!=="complete"){const ie=G(R),se=G(T);return I.current++,((x=(N=(S=p?.current)===null||S===void 0?void 0:S.getBoundingClientRect())===null||N===void 0?void 0:N.width)!==null&&x!==void 0?x:0)>0&&be.funnelSubStepError({funnelInteractionId:E,funnelIdentifier:U,subStepSelector:X,subStepName:se,subStepNameSelector:T,subStepIdentifier:K,stepNumber:H,stepName:ie,stepNameSelector:R,stepIdentifier:Z,subStepErrorContext:J,fieldErrorSelector:`${v(l.error)} .${n.error__message}`,fieldLabelSelector:v(l.label),subStepAllSelector:we(),fieldIdentifier:_?.instanceIdentifier,fieldErrorContext:_?.errorContext}),()=>{I.current--}}},[E,c,z,I]),e.createElement("div",Object.assign({},F,{className:b(F.className,n.root),style:M,ref:p},te,pe(L)),e.createElement("div",{className:b(n["label-wrapper"],h&&n["visually-hidden"])},t&&e.createElement("label",{className:b(n.label,Se.label),id:l.label,htmlFor:y},t),e.createElement(ve.Provider,{value:l.label},!h&&o&&e.createElement("span",{className:n.info},o))),g&&e.createElement("div",{className:n.description,id:l.description},g),e.createElement("div",{className:b(n.controls,h&&n["label-hidden"])},e.createElement(fe,{gridDefinition:ee,disableGutters:q},e.createElement(P.Provider,{value:Object.assign({controlId:y},k)},u&&e.createElement("div",{className:n.control},u)),f&&e.createElement(P.Provider,{value:k},e.createElement("div",{className:n["secondary-control"]},f)))),(w||c||d)&&e.createElement("div",{className:n.hints},c&&e.createElement(Ne,{id:l.error,errorIconAriaLabel:i?.errorIconAriaLabel},c),C&&e.createElement(xe,{id:l.warning,warningIconAriaLabel:i?.warningIconAriaLabel},d),w&&e.createElement(Ae,{id:l.constraint,hasValidationText:!!c||!!d},w)))}export{Re as I,Se as a};
